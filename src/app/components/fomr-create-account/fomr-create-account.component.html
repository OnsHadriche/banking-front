<p-toast></p-toast>

<mat-card color="primary" class="form-card">
  <mat-card-title>Create Account</mat-card-title>

  <mat-card-content>
    <form [formGroup]="accountForm" (ngSubmit)="onSubmit()">

      <!-- CIN Autocomplete Input -->
      <mat-form-field appearance="fill" class="mat-form-field-custom">
        <mat-label>Select Client CIN</mat-label>
        <input matInput
               formControlName="cin"
               placeholder="Enter CIN"
               [matAutocomplete]="auto"
               (input)="onClientCINInput($event)">
        <mat-autocomplete #auto="matAutocomplete" [displayWith]="displayClient">
          <mat-option *ngFor="let client of filteredClients | async" [value]="client.cin">
            {{ client.cin }} - {{ client.firstName }} {{ client.lastName }}
          </mat-option>
        </mat-autocomplete>
      </mat-form-field>

      <!-- Balance Input -->
      <mat-form-field appearance="fill" class="mat-form-field-custom">
        <mat-label>Balance</mat-label>
        <input matInput formControlName="balance" placeholder="Enter balance" type="number" required>
      </mat-form-field>

      <!-- Submit Button -->
      <button mat-raised-button color="primary" type="submit" [disabled]="accountForm.invalid">
        Create Account
      </button>
    </form>
  </mat-card-content>
</mat-card>
